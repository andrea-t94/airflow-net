# Instruction Generation Configuration

# Model settings
model:
  name: "claude-3-5-haiku-20241022"
  temperature: 0.3
  max_tokens: 800

# Generation settings
generation:
  max_dags: null  # null = process all DAGs
  version: "v1"
  output_file: "airflow_instructions.jsonl"
  instruction_source: "claude-3.5"

# Note: Input is always research/artifacts/01_raw_dags/dags.jsonl
# Output files:
#   Full run: research/artifacts/02_instruct_dags/airflow_instructions.jsonl
#   Test run: research/artifacts/02_instruct_dags/test_airflow_instructions.jsonl

# Prompt template
prompt_template: |
  Analyze this Airflow DAG and create 3 different clear learning instructions for the same code.

  DAG CODE:
  ```python
  {content}
  ```

  Airflow Version: {airflow_version}

  Create 3 variations that approach explaining the DAG from different angles:
  1. Focus on the business/functional purpose
  2. Focus on the technical workflow structure
  3. Focus on the data processing aspects

  Respond with exactly 3 separate JSON objects, each on its own line:
  {{"instruction": "Clear, educational instruction explaining what to build (max 2 sentences)"}}
  {{"instruction": "Clear, educational instruction explaining what to build (max 2 sentences)"}}
  {{"instruction": "Clear, educational instruction explaining what to build (max 2 sentences)"}}

  Each instruction should be actionable and explain WHAT to build, not HOW to build it. Keep each instruction to maximum 2 sentences.

# API settings
api:
  poll_interval: 30  # seconds between batch status checks